<!DOCTYPE html>
<html lang="kk">
<head>
    <meta charset="UTF-8">
    <title>–ì–µ–æ–≥—Ä–∞—Ñ–∏—è–ª—ã“õ –ù–µ–æ–Ω –î—É—ç–ª—å + Battle Bar</title>
    <style>
        :root {
            --neon-blue: #00f3ff;
            --neon-green: #39ff14;
            --neon-pink: #ff00ff;
            --neon-red: #ff3131;
        }

        body {
            font-family: 'Orbitron', sans-serif;
            background: linear-gradient(rgba(0, 0, 0, 0.8), rgba(0, 0, 0, 0.8)), 
                        url('https://images.unsplash.com/photo-1451187580459-43490279c0fa?auto=format&fit=crop&q=80&w=2072');
            background-size: cover;
            color: white;
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            overflow-x: hidden;
        }

        /* –¢–∞—Ä—Ç—ã—Å —à–∫–∞–ª–∞—Å—ã */
        .battle-container {
            width: 80%;
            height: 30px;
            background: #222;
            border: 2px solid white;
            box-shadow: 0 0 15px white;
            margin: 20px 0;
            border-radius: 15px;
            overflow: hidden;
            position: relative;
            display: flex;
        }

        #battle-bar-p1 {
            width: 50%;
            height: 100%;
            background: var(--neon-blue);
            box-shadow: inset 0 0 20px rgba(0,0,0,0.5);
            transition: width 0.5s ease;
        }

        #battle-bar-p2 {
            width: 50%;
            height: 100%;
            background: var(--neon-green);
            box-shadow: inset 0 0 20px rgba(0,0,0,0.5);
            transition: width 0.5s ease;
        }

        .battle-status {
            position: absolute;
            width: 100%;
            text-align: center;
            line-height: 30px;
            font-weight: bold;
            text-transform: uppercase;
            color: white;
            text-shadow: 1px 1px 5px black;
        }

        .game-title { font-size: 2.5rem; text-shadow: 0 0 10px var(--neon-blue); margin: 10px 0; }
        
        .timer {
            font-size: 1.8rem;
            color: var(--neon-pink);
            padding: 5px 30px;
            border: 2px solid var(--neon-pink);
            border-radius: 15px;
            box-shadow: 0 0 15px var(--neon-pink);
            background: rgba(0, 0, 0, 0.6);
        }

        .battle-field { display: flex; gap: 30px; justify-content: center; width: 95%; margin-top: 20px; }

        .player-card {
            background: rgba(0, 0, 0, 0.85);
            border: 3px solid var(--neon-blue);
            box-shadow: 0 0 20px var(--neon-blue);
            border-radius: 20px;
            padding: 20px;
            width: 45%;
            text-align: center;
        }

        #p2 { border-color: var(--neon-green); box-shadow: 0 0 20px var(--neon-green); }

        .question-box { font-size: 1.4rem; margin-bottom: 15px; height: 50px; display: flex; align-items: center; justify-content: center; border-bottom: 1px solid #333; }

        .options-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; }

        .opt-btn {
            background: transparent;
            border: 2px solid var(--neon-blue);
            color: white;
            padding: 12px;
            cursor: pointer;
            border-radius: 8px;
            transition: 0.2s;
        }
        #p2 .opt-btn { border-color: var(--neon-green); }
        .opt-btn:hover { background: var(--neon-blue); color: black; box-shadow: 0 0 15px var(--neon-blue); }
        #p2 .opt-btn:hover { background: var(--neon-green); color: black; box-shadow: 0 0 15px var(--neon-green); }

        .score { font-size: 2.5rem; margin-top: 10px; }
        .feedback { height: 20px; font-size: 0.9rem; margin: 5px 0; }

        .start-btn {
            background: transparent;
            color: white;
            border: 3px solid var(--neon-pink);
            padding: 15px 40px;
            font-size: 1.2rem;
            cursor: pointer;
            border-radius: 50px;
            box-shadow: 0 0 20px var(--neon-pink);
            margin-top: 20px;
        }

        .winner-overlay {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.95);
            display: none;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            z-index: 100;
        }
    </style>
</head>
<body>

    <h1 class="game-title">–ì–ï–û –ë–ê–¢–¢–õ</h1>
    
    <div class="timer" id="timer">60</div>

    <div class="battle-container" id="battleContainer" style="display: none;">
        <div id="battle-bar-p1"></div>
        <div id="battle-bar-p2"></div>
        <div class="battle-status" id="battleStatus">–¢–ï“¢ –¢“Æ–°–£</div>
    </div>

    <div class="battle-field">
        <div class="player-card" id="p1">
            <h3 style="color: var(--neon-blue)">1-–û“ö–£–®–´</h3>
            <div class="question-box" id="q1">...</div>
            <div class="options-grid" id="opts1"></div>
            <div id="f1" class="feedback"></div>
            <div class="score" id="s1">0</div>
        </div>

        <div class="player-card" id="p2">
            <h3 style="color: var(--neon-green)">2-–û“ö–£–®–´</h3>
            <div class="question-box" id="q2">...</div>
            <div class="options-grid" id="opts2"></div>
            <div id="f2" class="feedback"></div>
            <div class="score" id="s2">0</div>
        </div>
    </div>

    <button class="start-btn" id="startBtn" onclick="startGame()">–ë–ê–°–¢–ê–£</button>

    <div id="winnerBoard" class="winner-overlay">
        <h1 id="winnerText" style="font-size: 3rem; text-shadow: 0 0 30px var(--neon-blue);"></h1>
        <button onclick="location.reload()" class="start-btn">“ö–ê–ô–¢–ê–õ–ê–£</button>
    </div>

    <script>
        const data = [
            { a: "–ê—Å—Ç–∞–Ω–∞", q: "“ö–∞–∑–∞“õ—Å—Ç–∞–Ω" }, { a: "–ü–∞—Ä–∏–∂", q: "–§—Ä–∞–Ω—Ü–∏—è" },
            { a: "–õ–æ–Ω–¥–æ–Ω", q: "“∞–ª—ã–±—Ä–∏—Ç–∞–Ω–∏—è" }, { a: "–ë–µ—Ä–ª–∏–Ω", q: "–ì–µ—Ä–º–∞–Ω–∏—è" },
            { a: "–¢–æ–∫–∏–æ", q: "–ñ–∞–ø–æ–Ω–∏—è" }, { a: "–ü–µ–∫–∏–Ω", q: "“ö—ã—Ç–∞–π" },
            { a: "–ê–Ω–∫–∞—Ä–∞", q: "–¢“Ø—Ä–∫–∏—è" }, { a: "–†–∏–º", q: "–ò—Ç–∞–ª–∏—è" },
            { a: "–ú–∞–¥—Ä–∏–¥", q: "–ò—Å–ø–∞–Ω–∏—è" }, { a: "–ö–∞–∏—Ä", q: "–ú—ã—Å—ã—Ä" },
            { a: "–í–∞—à–∏–Ω–≥—Ç–æ–Ω", q: "–ê“ö–®" }, { a: "–û—Ç—Ç–∞–≤–∞", q: "–ö–∞–Ω–∞–¥–∞" },
            { a: "–°–µ—É–ª", q: "–û“£—Ç“Ø—Å—Ç—ñ–∫ –ö–æ—Ä–µ—è" }, { a: "–ë—Ä–∞–∑–∏–ª–∏—è", q: "–ë—Ä–∞–∑–∏–ª–∏—è" },
            { a: "–†–∞–±–∞—Ç", q: "–ú–∞—Ä–æ–∫–∫–æ" }, { a: "–õ–∏—Å—Å–∞–±–æ–Ω", q: "–ü–æ—Ä—Ç—É–≥–∞–ª–∏—è" },
            { a: "–ë—ñ—à–∫–µ–∫", q: "“ö—ã—Ä“ì—ã–∑—Å—Ç–∞–Ω" }, { a: "–î—É—à–∞–Ω–±–µ", q: "–¢”ô–∂—ñ–∫—Å—Ç–∞–Ω" },
            { a: "–ê—à—Ö–∞–±–∞–¥", q: "–¢“Ø—Ä–∫–º–µ–Ω—Å—Ç–∞–Ω" }, { a: "–ê–º—Å—Ç–µ—Ä–¥–∞–º", q: "–ù–∏–¥–µ—Ä–ª–∞–Ω–¥" },
            { a: "–ë–µ—Ä–Ω", q: "–®–≤–µ–π—Ü–∞—Ä–∏—è" }, { a: "–ù—å—é-–î–µ–ª–∏", q: "“Æ–Ω–¥—ñ—Å—Ç–∞–Ω" },
            { a: "–î–æ—Ö–∞", q: "–ö–∞—Ç–∞—Ä" }, { a: "–ê–±—É-–î–∞–±–∏", q: "–ë–ê”ò" },
            { a: "–ë–∞–Ω–≥–∫–æ–∫", q: "–¢–∞–π–ª–∞–Ω–¥" }, { a: "–ú–µ—Ö–∏–∫–æ", q: "–ú–µ–∫—Å–∏–∫–∞" },
            { a: "–ë–∞–∫—É", q: "”ò–∑–µ—Ä–±–∞–π–∂–∞–Ω" }, { a: "–û—Ç—Ç–∞–≤–∞", q: "–ö–∞–Ω–∞–¥–∞" },
            { a: "–ë—É—ç–Ω–æ—Å", q: "–ê—Ä–≥–µ–Ω—Ç–∏–Ω–∞" }, { a: "–ö–∞–Ω–±–µ—Ä—Ä–∞", q: "–ê—É—Å—Ç—Ä–∞–ª–∏—è" },
            { a: "–ü—Ä–µ—Ç–æ—Ä–∏—è", q: "–û“£—Ç“Ø—Å—Ç—ñ–∫ –ê—Ñ—Ä–∏–∫–∞ –†–µ—Å–ø—É–±–ª–∏–∫–∞—Å—ã" }, { a: "–ê—Ñ–∏–Ω–∞", q: "–ì—Ä–µ–∫–∏—è" },
            { a: "–í–µ–Ω–∞", q: "–ê–≤—Å—Ç—Ä–∏—è" }, { a: "–ë—Ä—é—Å—Å–µ–ª—å", q: "–ë–µ–ª—å–≥–∏—è" },
            { a: "–ü—Ä–∞–≥–∞", q: "–ß–µ—Ö–∏—è" }, { a: "–°—Ç–æ–∫–≥–æ–ª—å–º", q: "–®–≤–µ—Ü–∏—è" },
            { a: "–ù—É—Å–∞–Ω—Ç–∞—Ä–∞", q: "–ò–Ω–¥–æ–Ω–µ–∑–∏—è" }, { a: "–ö—É–∞–ª–∞-–õ—É–º–ø—É—Ä", q: "–ú–∞–ª–∞–π–∑–∏—è" },
            { a: "–•–∞–Ω–æ–π", q: "–í—å–µ—Ç–Ω–∞–º" }, { a: "–í–∞—Ä—à–∞–≤–∞", q: "–ü–æ–ª—å—à–∞" },
            { a: "–≠—Ä-–†–∏—è–¥", q: "–°–∞—É–¥ –ê—Ä–∞–±–∏—è—Å—ã" }, { a: "–¢–µ–≥–µ—Ä–∞–Ω", q: "–ò—Ä–∞–Ω" },
            { a: "–ò—Å–ª–∞–º–∞–±–∞–¥", q: "–ü”ô–∫—ñ—Å—Ç–∞–Ω" }, { a: "–¢–±–∏–ª–∏—Å–∏", q: "–ì—Ä—É–∑–∏—è" },
            { a: "–ë–æ–≥–æ—Ç–∞", q: "–ö–æ–ª—É–º–±–∏—è" }, { a: "–°–∞–Ω—Ç—å—è–≥–æ", q: "–ß–∏–ª–∏" },
            { a: "–õ–∏–º–∞", q: "–ü–µ—Ä—É" }, { a: "–ì–∞–≤–∞–Ω–∞", q: "–ö—É–±–∞" }
        ];

        let score1 = 0, score2 = 0, timeLeft = 60, gameActive = false;

        function updateBattleBar() {
            const total = score1 + score2;
            const bar1 = document.getElementById('battle-bar-p1');
            const bar2 = document.getElementById('battle-bar-p2');
            const status = document.getElementById('battleStatus');

            if (total === 0 || score1 === score2) {
                bar1.style.width = "50%";
                bar2.style.width = "50%";
                status.innerText = "–¢–ï“¢ –¢“Æ–°–£";
            } else {
                let p1Percent = (score1 / total) * 100;
                bar1.style.width = p1Percent + "%";
                bar2.style.width = (100 - p1Percent) + "%";
                
                if (score1 > score2) status.innerText = "1-–û“ö–£–®–´ –ê–õ–î–ê!";
                else status.innerText = "2-–û“ö–£–®–´ –ê–õ–î–ê!";
            }
        }

        function startGame() {
            gameActive = true;
            document.getElementById('startBtn').style.display = 'none';
            document.getElementById('battleContainer').style.display = 'flex';
            renderQuestion(1);
            renderQuestion(2);
            
            const timerInterval = setInterval(() => {
                timeLeft--;
                document.getElementById('timer').innerText = timeLeft;
                if(timeLeft <= 0) {
                    clearInterval(timerInterval);
                    endGame();
                }
            }, 1000);
        }

        function renderQuestion(player) {
            if(!gameActive) return;
            const correctObj = data[Math.floor(Math.random() * data.length)];
            const options = [correctObj.q];
            while(options.length < 4) {
                let r = data[Math.floor(Math.random() * data.length)].q;
                if(!options.includes(r)) options.push(r);
            }
            options.sort(() => Math.random() - 0.5);

            document.getElementById('q' + player).innerText = correctObj.a;
            const grid = document.getElementById('opts' + player);
            grid.innerHTML = '';
            options.forEach(opt => {
                const btn = document.createElement('button');
                btn.className = 'opt-btn';
                btn.innerText = opt;
                btn.onclick = () => check(player, opt, correctObj.q);
                grid.appendChild(btn);
            });
        }

        function check(player, selected, correct) {
            const fb = document.getElementById('f' + player);
            if(selected === correct) {
                if(player === 1) score1 += 10; else score2 += 10;
                fb.innerHTML = `<span style="color:var(--neon-green)">+10</span>`;
                setTimeout(() => { fb.innerHTML = ""; renderQuestion(player); }, 400);
            } else {
                if(player === 1) score1 = Math.max(0, score1 - 5); 
                else score2 = Math.max(0, score2 - 5);
                fb.innerHTML = `<span style="color:var(--neon-red)">-5</span>`;
            }
            document.getElementById('s' + player).innerText = (player === 1 ? score1 : score2);
            updateBattleBar();
        }

        function endGame() {
            gameActive = false;
            let msg = score1 > score2 ? "1-–û“ö–£–®–´ –ñ–ï“¢–î–Ü! üèÜ" : (score2 > score1 ? "2-–û“ö–£–®–´ –ñ–ï“¢–î–Ü! üèÜ" : "–¢–ï“¢ –¢“Æ–°–¢–Ü! ü§ù");
            document.getElementById('winnerText').innerText = msg;
            document.getElementById('winnerBoard').style.display = 'flex';
        }
    </script>
</body>
</html>